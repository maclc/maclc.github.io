import{o as i,c as t,w as e,a,n as r,f as d,g as h,d as g,i as s,k as o,j as u}from"./index-5a168bd5.js";import{_ as l}from"./gui-page.dbf75646.js";const m=l({name:"gui-image",props:{src:{type:String,default:""},width:{type:Number,default:300},height:{type:Number,default:0},timer:{type:Number,default:200},borderRadius:{type:String,default:"0rpx"},mode:{type:String,default:"widthFix"}},data:()=>({isLoading:!0,imgHeight:180,opacity:0,animate:!1,failed:!1}),methods:{imgLoad:function(i){var t=i.detail.width/i.detail.height;"widthFix"==this.mode?this.imgHeight=this.width/t:this.imgHeight=this.height,this.animate=!0,setTimeout((()=>{this.isLoading=!1,this.opacity=1}),this.timer)},error:function(){this.isLoading=!1,this.failed=!0}}},[["render",function(l,m,n,p,c,y){const f=s,x=o,w=u;return i(),t(w,{class:"gui-img gui-dark-bg-level-3",style:r({width:n.width+"rpx",height:0==n.height?c.imgHeight+"rpx":n.height+"rpx",borderRadius:n.borderRadius})},{default:e((()=>[a(f,{src:n.src,onLoad:y.imgLoad,onError:y.error,mode:n.mode,style:r({width:n.width+"rpx",height:c.imgHeight+"rpx",borderRadius:n.borderRadius,opacity:c.opacity})},null,8,["src","onLoad","onError","mode","style"]),c.isLoading?(i(),t(x,{key:0,class:d(["gui-img-loading gui-icons gui-color-gray",[c.animate?"gui-fade-out":""]]),style:r({width:n.width+"rpx",height:0==n.height?c.imgHeight+"rpx":n.height+"rpx",lineHeight:0==n.height?c.imgHeight+"rpx":n.height+"rpx",borderRadius:n.borderRadius})},{default:e((()=>[h("")])),_:1},8,["class","style"])):g("",!0),c.failed?(i(),t(x,{key:1,class:d(["gui-img-loading gui-icons gui-color-gray",[c.animate?"gui-fade-out":""]]),style:r({width:n.width+"rpx",height:0==n.height?c.imgHeight+"rpx":n.height+"rpx",lineHeight:0==n.height?c.imgHeight+"rpx":n.height+"rpx",borderRadius:n.borderRadius})},{default:e((()=>[h("")])),_:1},8,["class","style"])):g("",!0)])),_:1},8,["style"])}],["__scopeId","data-v-4a253895"]]);export{m as _};
